databaseChangeLog:
  - changeSet:
      id: create-table-course
      author: SH
      preConditions:
        - onFail: MARK_RAN
          not:
            tableExists:
              tableName: course
      changes:
        - createTable:
            tableName: course
            columns:
              - column:
                    autoIncrement: true
                    constraints:
                      nullable: false
                      primaryKey: true
                      primaryKeyName: course_pkey
                    name: id
                    type: INT
              - column:
                    constraints:
                      nullable: false
                    name: description
                    type: VARCHAR(100)
              - column:
                    constraints:
                      nullable: false
                    name: start_date
                    type: DATETIME
              - column:
                    constraints:
                      nullable: false
                    defaultValueBoolean: true
                    name: open
                    type: BOOLEAN
              - column:
                  constraints:
                    nullable: false
                  defaultValueBoolean: true
                  name: capacity
                  type: INT
  - changeSet:
      id: create-table-follower
      author: SH
      preConditions:
        - onFail: MARK_RAN
          not:
            tableExists:
              tableName: follower
      changes:
        - createTable:
            tableName: follower
            columns:
                - column:
                      constraints:
                        nullable: false
                        primaryKey: true
                        primaryKeyName: follower_pkey
                      name: id
                      type: VARCHAR(36)
                - column:
                      constraints:
                        nullable: false
                      defaultValueBoolean: true
                      name: accepted
                      type: BOOLEAN
                - column:
                      constraints:
                        nullable: false
                      name: email
                      type: VARCHAR(100)
                - column:
                      constraints:
                        nullable: false
                      name: course_id
                      type: INT
                - column:
                      constraints:
                        nullable: false
                      name: token
                      type: VARCHAR(255)
                - column:
                      constraints:
                        nullable: false
                      name: name
                      type: VARCHAR(50)
                - column:
                      constraints:
                        nullable: false
                      name: registered
                      type: DATETIME
                - column:
                      constraints:
                        nullable: true
                      name: unregistered
                      type: DATETIME
                - column:
                    constraints:
                      nullable: false
                    defaultValueBoolean: true
                    name: gdpr
                    type: BOOLEAN
  - changeSet:
      id: create-table-jesua-user
      author: SH
      preConditions:
        - onFail: MARK_RAN
          not:
            tableExists:
              tableName: jesua_user
      changes:
        - createTable:
            tableName: jesua_user
            columns:
                - column:
                      constraints:
                        nullable: false
                        primaryKey: true
                        primaryKeyName: jesua_user_pkey
                      name: id
                      type: VARCHAR(36)
                - column:
                      constraints:
                        nullable: false
                      defaultValueBoolean: true
                      name: active
                      type: BOOLEAN
                - column:
                      constraints:
                        nullable: false
                      name: email
                      type: VARCHAR(100)
                - column:
                      constraints:
                        nullable: false
                      name: password
                      type: VARCHAR(100)
                - column:
                      constraints:
                        nullable: false
                      name: user_name
                      type: VARCHAR(50)
                - column:
                      constraints:
                        nullable: false
                      name: role
                      type: VARCHAR(50)
                - column:
                      constraints:
                        nullable: false
                      name: created
                      type: DATETIME
                - column:
                    name: avatar
                    type: VARCHAR(50)